<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AlephLearn â€¢ Admin Panel</title>

  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="admin.css">
  <link rel="icon" type="image/svg+xml" href="assets/alephlearn-icon.svg">
</head>

<body data-page="admin">

  <!-- Same navbar (copy/paste from your pages) -->
  <header class="nav">
    <div class="nav-inner">

      <button id="al-burger" class="al-burger" aria-label="Toggle menu">
        <span></span><span></span><span></span>
      </button>

      <div class="brand">
        <a href="dashboard.html">
          <img src="./alephlearn-logo.svg" alt="AlephLearn" class="brand-logo-svg">
        </a>
      </div>

      <nav class="links">
        <a href="dashboard.html">Dashboard</a>
        <a href="doubts.html">Doubts</a>
        <a href="chat.html">Chat</a>
        <a href="quizzes.html">Quizzes</a>
        <a href="previous-papers.html">Library</a>
        <a href="profile.html">Profile</a>

        <!-- ADMIN ONLY link -->
        <a href="admin.html" class="js-admin-link">Admin</a>

        <button class="logout-btn-desktop js-logout">Logout</button>
      </nav>

      <div class="navbar-avatar" id="navbarAvatar">?</div>
    </div>
  </header>

  <nav class="al-drawer" id="al-drawer">
    <div class="al-drawer-head">
      <h3>Menu</h3>
      <button class="al-drawer-close" type="button">âœ•</button>
    </div>
    <div class="al-drawer-links">
      <a href="dashboard.html"> Dashboard</a>
      <a href="doubts.html"> Doubts</a>
      <a href="chat.html"> Chat</a>
      <a href="quizzes.html"> Quizzes</a>
      <a href="previous-papers.html"> Previous Papers</a>
      <a href="profile.html"> Profile</a>
      <a href="admin.html" class="js-admin-link"> Admin</a>
      <button class="logout-btn js-logout" type="button">
        <span class="text">Logout</span>
      </button>
    </div>
  </nav>

  <div id="al-drawer-backdrop" class="al-drawer-backdrop"></div>

  <main class="container" style="padding-top:18px;">
    <h1 class="h1">ðŸ›¡ Admin Panel</h1>
    <p class="sub">Create Teacher accounts and manage them.</p>

    <section class="grid" style="grid-template-columns: 1fr 1fr; gap:16px; margin-top:14px;">
      <!-- Create Teacher -->
      <div class="card" style="padding:16px;">
        <h3 style="margin:0 0 10px;">âž• Create Teacher</h3>

        <form id="createTeacherForm" style="display:grid; gap:10px;">
          <div class="form-group">
            <label class="form-label">Full Name</label>
            <input id="tName" class="form-input" placeholder="e.g., Aman Sir" required />
          </div>

          <div class="form-group">
            <label class="form-label">Email</label>
            <input id="tEmail" type="email" class="form-input" placeholder="teacher@college.com" required />
          </div>

          <div class="form-group">
            <label class="form-label">Password</label>
            <input id="tPass" type="password" class="form-input" placeholder="min 6 chars" required />
          </div>

          <button class="btn btn-primary" type="submit">Create Teacher</button>
          <small id="createMsg" style="opacity:.75;"></small>
        </form>
      </div>

      <!-- Teachers list -->
      <div class="card" style="padding:16px;">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
          <h3 style="margin:0;">ðŸ‘¥ Teachers</h3>
          <button id="refreshTeachers" class="btn btn-secondary" type="button">Refresh</button>
        </div>

        <div id="teachersTableWrap" style="margin-top:12px; overflow:auto;">
          <table style="width:100%; border-collapse:collapse;">
            <thead>
              <tr style="text-align:left; opacity:.8;">
                <th style="padding:8px 6px;">Name</th>
                <th style="padding:8px 6px;">Email</th>
                <th style="padding:8px 6px;">Role</th>
              </tr>
            </thead>
            <tbody id="teachersTbody">
              <tr><td colspan="3" style="padding:10px 6px; opacity:.7;">Loadingâ€¦</td></tr>
            </tbody>
          </table>
        </div>

        <small id="listMsg" style="display:block; margin-top:10px; opacity:.75;"></small>
      </div>
    </section>
    <section class="grid" style="grid-template-columns: 1fr 1fr; gap:16px; margin-top:16px;">
        <!-- Blocked users -->
        <div class="card" style="padding:16px;">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
            <h3 style="margin:0;">â›” Blocked Users</h3>
            <button id="refreshBlocked" class="btn btn-secondary" type="button">Refresh</button>
          </div>
      
          <div class="table-scroll" style="margin-top:12px; overflow:auto;">
            <table style="width:100%; border-collapse:collapse;">
              <thead>
                <tr style="text-align:left; opacity:.8;">
                  <th style="padding:8px 6px;">ID</th>
                  <th style="padding:8px 6px;">Name</th>
                  <th style="padding:8px 6px;">Email</th>
                  <th style="padding:8px 6px;">Until</th>
                  <th style="padding:8px 6px;">Reason</th>
                  <th style="padding:8px 6px;">Action</th>
                </tr>
              </thead>
              <tbody id="blockedTbody">
                <tr><td colspan="6" style="padding:10px 6px; opacity:.7;">Loadingâ€¦</td></tr>
              </tbody>
            </table>
          </div>
          <small id="blockedMsg" style="display:block; margin-top:10px; opacity:.75;"></small>
        </div>
      
        <!-- Banned users -->
        <div class="card" style="padding:16px;">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
            <h3 style="margin:0;">ðŸš« Banned Users</h3>
            <button id="refreshBanned" class="btn btn-secondary" type="button">Refresh</button>
          </div>
      
          <div class="table-scroll" style="margin-top:12px; overflow:auto;">
            <table style="width:100%; border-collapse:collapse;">
              <thead>
                <tr style="text-align:left; opacity:.8;">
                  <th style="padding:8px 6px;">ID</th>
                  <th style="padding:8px 6px;">Name</th>
                  <th style="padding:8px 6px;">Email</th>
                  <th style="padding:8px 6px;">Reason</th>
                  <th style="padding:8px 6px;">Action</th>
                </tr>
              </thead>
              <tbody id="bannedTbody">
                <tr><td colspan="5" style="padding:10px 6px; opacity:.7;">Loadingâ€¦</td></tr>
              </tbody>
            </table>
          </div>
          <small id="bannedMsg" style="display:block; margin-top:10px; opacity:.75;"></small>
        </div>
      </section>
    <section class="card" style="padding:16px; margin-top:16px;">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
          <h3 style="margin:0;">ðŸš© Reports</h3>
          <button id="refreshReports" class="btn btn-secondary" type="button">Refresh</button>
        </div>
      
        <div class="admin-scroll reports-scroll" style="margin-top:12px;">
          <table style="width:100%; border-collapse:collapse;">
            <thead>
              <tr style="text-align:left; opacity:.8;">
                <th style="padding:8px 6px;">ID</th>
                <th style="padding:8px 6px;">Target</th>
                <th style="padding:8px 6px;">Reason</th>
                <th style="padding:8px 6px;">Description</th>
                <th style="padding:8px 6px;">Reporter</th>
                <th style="padding:8px 6px;">Proof</th>
                <th style="padding:8px 6px;">Status</th>
                <th style="padding:8px 6px;">Admin Notes</th>
                <th style="padding:8px 6px;">Action</th>

              </tr>
            </thead>
            <tbody id="reportsTbody">
              <tr><td colspan="8" style="padding:10px 6px; opacity:.7;">Loadingâ€¦</td></tr>
            </tbody>
          </table>
        </div>
      
        <small id="reportsMsg" style="display:block; margin-top:10px; opacity:.75;"></small>
      </section>
  </main>
<!-- âœ… Pretty Modal + Toast (add before </body>) -->
<div id="al-modal" class="al-modal" aria-hidden="true">
    <div class="al-modal-backdrop" data-close="1"></div>
    <div class="al-modal-card" role="dialog" aria-modal="true" aria-labelledby="al-modal-title">
      <h3 id="al-modal-title" class="al-modal-title">Confirm</h3>
      <p id="al-modal-msg" class="al-modal-msg">Are you sure?</p>
  
      <div class="al-modal-actions">
        <button id="al-modal-cancel" class="btn btn-secondary" type="button">Cancel</button>
        <button id="al-modal-ok" class="btn btn-primary" type="button">OK</button>
      </div>
    </div>
  </div>
  
  <div id="toast-stack" class="toast-stack" aria-live="polite" aria-atomic="true"></div>
  <!-- Blocked User Modal -->
  <div id="blockedModal" class="blocked-backdrop">
    <div class="blocked-card">
    <h2>ðŸš« Access Temporarily Blocked</h2>

    <p class="blocked-text" id="blockedMessage"></p>

    <button class="blocked-btn" onclick="closeBlockedModal()">OK</button>
  </div>
</div>
<!-- âœ… Blocked Modal (Auth page) -->
<div id="blockedModal" class="blocked-backdrop" aria-hidden="true">
  <div class="blocked-card" role="dialog" aria-modal="true" aria-labelledby="blockedTitle">
    <h2 id="blockedTitle">ðŸš« Access Temporarily Blocked</h2>

    <p class="blocked-text" id="blockedMessage">
      You are blocked. Contact admin.
    </p>

    <button class="blocked-btn" type="button" onclick="closeBlockedModal()">OK</button>
  </div>
</div>
  <script type="module" src="./js/api.js"></script>
  <script type="module" src="./js/protect.js"></script>
  <script type="module" src="./js/admin-reports.js"></script>
  <script type="module" src="H1.js"></script>
  <script type="module" src="./js/admin.js"></script>

</body>
</html>